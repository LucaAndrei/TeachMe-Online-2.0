<div class="card shadow">
    <div class="card-header">
        <app-progress-bar [steps]="questions.length" [completedSteps]="answers"
            [currentQuestionIndex]="currentQuestionIndex">
        </app-progress-bar>
    </div>
    <div class="card-body">
        <app-question *ngIf="!isSubmitted" [question]="currentQuestion" (onOptionSelected)="onOptionSelect($event)">
        </app-question>
        <div class="stats" *ngIf="isSubmitted">
            <h1 class="text-center p-5">Result Summary</h1>
            <div class="d-flex align-items-center justify-content-center">
                <div class="bg-success p-3 m-3">
                    <span class="text-white">{{correctAnswers}} Correct Answers</span>
                </div>
                <div class="bg-danger p-3 m-3">
                    <span class="text-white">{{wrongAnswers}} Wrong Answers</span>
                </div>
            </div>
        </div>

        <div class="d-flex justify-content-end">
            <app-button [btnClass]="'btn-lg'" [disabled]="answers[currentQuestionIndex] === null"
                *ngIf="currentQuestionIndex+1 !== questions.length" (onClick)="nextQuestion()">Next</app-button>

            <app-button [btnClass]="'btn-lg'" [disabled]="answers[currentQuestionIndex] === null"
                *ngIf="currentQuestionIndex+1 === questions.length && !isSubmitted" (onClick)="submitQuiz()">Submit
            </app-button>

            <app-button [btnClass]="'btn-lg'" [disabled]="answers[currentQuestionIndex] === null" *ngIf="isSubmitted"
                (onClick)="replay()">Replay</app-button>
        </div>
    </div>
</div>